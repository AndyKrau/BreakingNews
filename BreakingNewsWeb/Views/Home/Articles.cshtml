@using BreakingNewsWeb.Controllers;
@using BreakingNewsWeb.Models;
@using BreakingNewsWeb.Services;

@model IEnumerable<Article>;

@{
    ViewBag.PageInfo = "Articles collection:";
}

@foreach (var article in Model)
{
    <div class="articles">
        <img class="articles__img" src="@article.UrlToImage"/>
        <div class="articles__text">
            <div class="articles__title">@article.Title</div>
            <div class="articles__content">@article.Content</div>
            <div class="articles__published">@article.PublishedAt</div>
            <a class="articles__more" href="@article.Url">More</a>
        </div>
    </div>
}

<div class="pagination" >
    <ul class="pagination__ul" >
        @if (ViewBag.Page > 0)
        {
            <li class="pagination__btn-arrow" >
                <a class="pagination__a" href="@Url.Action("Articles", new { page = ViewBag.Page - 1 })">
                    &laquo;
                </a>
            </li>
        }

        @for (int i = 0; i < ViewBag.MaxPage +1; i++)
        {
            <li class="pagination__btn page-@i" >
                <a class="pagination__a" href="@Url.Action("Articles", new { page = i })" >
                    @i
                </a> 
            </li>
        }

        @if (ViewBag.Page < ViewBag.MaxPage)
        {
            <li class="pagination__btn-arrow">
                <a class="pagination__a" href="@Url.Action("Articles", new { page = ViewBag.Page + 1 })" 
                    >
                    &raquo;
                </a>
            </li>
        }
    </ul>
</div>
