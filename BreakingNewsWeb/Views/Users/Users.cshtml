@using DBConnection.Models.Classes;
@model IEnumerable<User>;

@{
    ViewBag.Title = "User list:";
}

<div class="row">
    <div class="col-md-2">
        <form class="d-grid gap-2 col-12 mx-right">
            <button class="btn btn-light" asp-controller="Users" asp-action="Create">Create user</button>
            <button class="btn btn-light" asp-controller="Roles" asp-action="UserList">Roles</button>
            <button class="btn btn-light" asp-controller="Users" asp-action="Card">Back</button>
        </form>
    </div>

    <div class="col-md-9 offset-md-1">
        <table class="table table-striped table-hover">
            <tr><th>Email</th><th>Created</th><th></th></tr>
            @foreach (var user in Model)
            {
                <tr>
                    <td>@user.Email</td>
                    <td>@user.CreatedAt</td>
                    <td>
                        <form asp-action="Delete" asp-route-id="@user.Id" method="post">
                            <a class="btn btn-sm btn-primary" asp-action="Edit" asp-route-id="@user.Id">Edit</a>
                            <a class="btn btn-sm btn-primary" asp-action="ChangePassword" asp-route-id="@user.Id">Change password</a>
                            <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>
