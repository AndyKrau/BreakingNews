@using BreakingNewsWeb.Models;

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@model IEnumerable<User>;

@{
    ViewBag.PageInfo = "Users";
}

<div class="row">
     <div class="col-md-2">
        <form class="d-grid gap-2 col-12 mx-right">
            <button class="btn btn-light" asp-controller="Users" asp-action="PersonalArea">Back</button>
        </form>
    </div>
    <div class="col-md-9 offset-md-1">
        <table class="table table-striped table-hover">
            <tr>
                <td>UserId</td>
                <td>Name</td>
                <td>Password</td>
                <td>Email</td>
                <td>Role</td>
                <td></td>
            </tr>
            @foreach (var user in Model)
            {
                <tr>
                    <td>@user.UserId</td>
                    <td>@user.Name</td>
                    <td>@user.Email</td>
                    <td>@user.Role</td>
                    <td>
                        <button type="button" 
                                class="btn btn-light btn-sm" 
                                id="btnOpenModal" 
                                onclick="myFunction()"
                                data-bs-toggle="modal" 
                                data-bs-target="#exampleModal" 
                                data-id="@user.UserId" 
                                data-name="@user.Name" 
                                data-password="@user.Password"
                                data-email="@user.Email"
                                data-phone="@user.PhoneNumber"
                                data-role="@user.Role"
                                data-country="@user.Country"
                                data-postalCode="@user.PostalCode">More info
                        </button>
                        <form method="post">
                            <button class="btn btn-light btn-sm" asp-controller="Home" asp-action="DeleteUser" asp-route-id="@user.UserId">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>

<!-- Модальное окно -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">User information:</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
      </div>
      <div class="modal-body row" id="modal-body" >
            <div class="col-md-4">
                <img src="~/img/unknown-user.jpg" class="img-thumbnail" alt="img-thumbnail">
            </div>
            <div class="col-md-7 ml-4">
                <div class="mt-2 mb-2">
                    <span class="fw-bolder">User Id: </span><span id="id"></span>
                </div>
                <div class="mt-2 mb-2">
                    <span class="fw-bolder">Name: </span><span id="name"></span>
                </div>
                 <div class="mt-2 mb-2">
                    <span class="fw-bolder">Password: </span><span id="password"></span>
                </div>
                <div class="mt-2 mb-2">
                    <span class="fw-bolder">Role: </span><span id="role"></span>
                </div>
                <div class="mt-2 mb-2">
                    <span class="fw-bolder">E-mail: </span><span id="email"></span>
                </div>
                <div class="mt-2 mb-2">
                    <span class="fw-bolder">Phone number: </span><span id="phone"></span>
                </div>
                <div class="mt-2 mb-2">
                    <span class="fw-bolder">Country: </span><span id="country"></span>
                </div>
                <div class="mt-2 mb-2">
                    <span class="fw-bolder">Postal code: </span><span id="postalCode"></span>
                </div>
                
            </div>
        </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
      </div>
    </div>
  </div>
</div>


